{"ast":null,"code":"var _jsxFileName = \"E:\\\\coforge project\\\\fms\\\\flight-management-sys\\\\flight-management-frontend\\\\src\\\\components\\\\BookFlight.tsx\",\n  _s = $RefreshSig$();\n// src/components/BookFlight.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getFlightById, createBooking } from '../api';\nimport './BookFlight.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookFlight = () => {\n  _s();\n  const {\n    flightId\n  } = useParams();\n  const navigate = useNavigate();\n  const [flight, setFlight] = useState(null);\n  const [passengerName, setPassengerName] = useState('');\n  const [seatNumber, setSeatNumber] = useState('');\n  useEffect(() => {\n    const fetchFlight = async () => {\n      try {\n        const response = await getFlightById(Number(flightId));\n        setFlight(response.data);\n      } catch (error) {\n        console.error(error);\n        alert('Failed to fetch flight details');\n      }\n    };\n    fetchFlight();\n  }, [flightId]);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (flight && passengerName && seatNumber) {\n      try {\n        const userId = JSON.parse(localStorage.getItem('user') || '{}').id;\n        await createBooking({\n          flightId: flight.id,\n          userId,\n          passengerName,\n          seatNumber\n        });\n        alert('Flight booked successfully');\n        navigate('/search-flights'); // Redirect to search flights page\n      } catch (error) {\n        console.error(error);\n        alert('Error booking flight');\n      }\n    } else {\n      alert('Please fill all fields');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-flight-container\",\n    children: flight ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book Flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flight-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Flight Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Origin:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 16\n          }, this), \" \", flight.origin]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Destination:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 16\n          }, this), \" \", flight.destination]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Departure Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 16\n          }, this), \" \", flight.departureDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 16\n          }, this), \" $\", flight.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Available Seats:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 16\n          }, this), \" \", flight.availableSeats]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Passenger Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: passengerName,\n            onChange: e => setPassengerName(e.target.value),\n            placeholder: \"Enter your name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Seat Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: seatNumber,\n            onChange: e => setSeatNumber(e.target.value),\n            placeholder: \"Enter seat number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Book Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading flight details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(BookFlight, \"ieqpgX4f8Y1dUCt/R8pP6WY/saI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BookFlight;\nexport default BookFlight;\nvar _c;\n$RefreshReg$(_c, \"BookFlight\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getFlightById","createBooking","jsxDEV","_jsxDEV","Fragment","_Fragment","BookFlight","_s","flightId","navigate","flight","setFlight","passengerName","setPassengerName","seatNumber","setSeatNumber","fetchFlight","response","Number","data","error","console","alert","handleSubmit","event","preventDefault","userId","JSON","parse","localStorage","getItem","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","origin","destination","departureDate","price","availableSeats","onSubmit","type","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["E:/coforge project/fms/flight-management-sys/flight-management-frontend/src/components/BookFlight.tsx"],"sourcesContent":["// src/components/BookFlight.tsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { getFlightById, createBooking } from '../api';\r\nimport './BookFlight.css';\r\n\r\nconst BookFlight: React.FC = () => {\r\n  const { flightId } = useParams<{ flightId: string }>();\r\n  const navigate = useNavigate();\r\n\r\n  const [flight, setFlight] = useState<any>(null);\r\n  const [passengerName, setPassengerName] = useState('');\r\n  const [seatNumber, setSeatNumber] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchFlight = async () => {\r\n      try {\r\n        const response = await getFlightById(Number(flightId));\r\n        setFlight(response.data);\r\n      } catch (error) {\r\n        console.error(error);\r\n        alert('Failed to fetch flight details');\r\n      }\r\n    };\r\n\r\n    fetchFlight();\r\n  }, [flightId]);\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (flight && passengerName && seatNumber) {\r\n      try {\r\n        const userId = JSON.parse(localStorage.getItem('user') || '{}').id;\r\n        await createBooking({\r\n          flightId: flight.id,\r\n          userId,\r\n          passengerName,\r\n          seatNumber,\r\n        });\r\n        alert('Flight booked successfully');\r\n        navigate('/search-flights');  // Redirect to search flights page\r\n      } catch (error) {\r\n        console.error(error);\r\n        alert('Error booking flight');\r\n      }\r\n    } else {\r\n      alert('Please fill all fields');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"book-flight-container\">\r\n      {flight ? (\r\n        <>\r\n          <h2>Book Flight</h2>\r\n          <div className=\"flight-details\">\r\n            <h3>Flight Details</h3>\r\n            <p><strong>Origin:</strong> {flight.origin}</p>\r\n            <p><strong>Destination:</strong> {flight.destination}</p>\r\n            <p><strong>Departure Date:</strong> {flight.departureDate}</p>\r\n            <p><strong>Price:</strong> ${flight.price}</p>\r\n            <p><strong>Available Seats:</strong> {flight.availableSeats}</p>\r\n          </div>\r\n          <form onSubmit={handleSubmit}>\r\n            <div>\r\n              <label>Passenger Name:</label>\r\n              <input\r\n                type=\"text\"\r\n                value={passengerName}\r\n                onChange={(e) => setPassengerName(e.target.value)}\r\n                placeholder=\"Enter your name\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label>Seat Number:</label>\r\n              <input\r\n                type=\"text\"\r\n                value={seatNumber}\r\n                onChange={(e) => setSeatNumber(e.target.value)}\r\n                placeholder=\"Enter seat number\"\r\n              />\r\n            </div>\r\n            <button type=\"submit\">Book Flight</button>\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <p>Loading flight details...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookFlight;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}